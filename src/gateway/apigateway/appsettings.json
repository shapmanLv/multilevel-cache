{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Routes": [
    {
      "UpstreamPathTemplate": "/v1/a/{url}",
      "UpstreamHttpMethod": [ "Get", "POST", "OPTIONS", "PUT", "DELETE" ],
      "DownstreamPathTemplate": "/{url}",
      "DownstreamScheme": "http",
      "ServiceName": "sample_a",
      "LoadBalancerOptions": {
        "Type": "RoundRobin"
      },
      "QoSOptions": { // 熔断
        "ExceptionsAllowedBeforeBreaking": 3, // 发生错误的次数
        "DurationOfBreak": 10000, //熔断时间
        "TimeoutValue": 30000 // 超时时间
      },
      "RateLimitOptions": { // 限流
        "EnableRateLimiting": true, // 是否限流
        "Period": "1s", // 1s,4m,1h,1d
        "PeriodTimespan": 2, // 多少秒之后客户端可以重试
        "Limit": 10 // 一个时间周期最多可以请求的次数
      }
    },
    {
      "UpstreamPathTemplate": "/v1/b/{url}",
      "UpstreamHttpMethod": [ "Get", "POST", "OPTIONS", "PUT", "DELETE" ],
      "DownstreamPathTemplate": "/{url}",
      "DownstreamScheme": "http",
      "ServiceName": "sample_b",
      "LoadBalancerOptions": {
        "Type": "RoundRobin"
      },
      "QoSOptions": { // 熔断
        "ExceptionsAllowedBeforeBreaking": 3, // 发生错误的次数
        "DurationOfBreak": 10000, //熔断时间
        "TimeoutValue": 30000 // 超时时间
      },
      "RateLimitOptions": { // 限流
        "EnableRateLimiting": true, // 是否限流
        "Period": "1s", // 1s,4m,1h,1d
        "PeriodTimespan": 2, // 多少秒之后客户端可以重试
        "Limit": 10 // 一个时间周期最多可以请求的次数
      }
    }
  ],
  "GlobalConfiguration": {
    "BaseUrl": "http://localhost:5009"
  }
}
